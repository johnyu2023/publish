import{_ as A,p as d,v as E,x as S,C as D,c as n,o,j as t,G as p,a as _,F as M,B as T,k,g as f,t as x,w as C}from"./chunks/framework.CdkaGE7W.js";import{S as N}from"./chunks/theme.ojWqhCPx.js";const B={class:"latest-articles-section"},F={class:"recent-articles"},L={key:0,class:"loading-state"},$={key:1,class:"error-state"},j={key:2,class:"article-list"},I=["href"],P={class:"article-date"},R={class:"rss-subscribe"},V=["href"],O={__name:"RecentArticles",setup(y){const l=d(!1);function m(){typeof window<"u"&&(window.lastTriggerElement=document.activeElement),l.value=!0}function w(){typeof window<"u"&&window.lastTriggerElement&&(document.contains(window.lastTriggerElement)&&window.lastTriggerElement.focus(),window.lastTriggerElement=null)}const r=d(!0),c=d(!1),g=d([]);function b(a){const e=new Date(a),i=e.getFullYear(),s=(e.getMonth()+1).toString().padStart(2,"0"),u=e.getDate().toString().padStart(2,"0");return`${i}-${s}-${u}`}async function h(){try{r.value=!0,c.value=!1;const a=await fetch(f(`/data/list.json?t=${Date.now()}`));if(!a.ok)throw new Error("无法加载数据文件");const i=((await a.json()).articles||[]).sort((s,u)=>new Date(u.date)-new Date(s.date));g.value=i.slice(0,6),r.value=!1}catch(a){console.error("加载文章数据失败:",a),r.value=!1,c.value=!0}}const v=()=>{l.value=!1,w()};return E(()=>{h(),window.addEventListener("close-modal",v)}),S(()=>{window.removeEventListener("close-modal",v)}),(a,e)=>{const i=D("NModal");return o(),n("div",B,[t("h2",{class:"section-title"},[t("span",{style:{color:"inherit",cursor:"pointer"},onClick:m},"最新文章")]),t("div",F,[e[6]||(e[6]=t("div",{class:"recent-title"},[t("span",{class:"icon"},"📖"),_(" 最近更新 ")],-1)),r.value?(o(),n("div",L,[...e[1]||(e[1]=[t("div",{class:"loading-text"},"数据读取中...",-1)])])):c.value?(o(),n("div",$,[e[2]||(e[2]=t("div",{class:"error-text"},"数据获取失败...",-1)),t("button",{onClick:h,class:"retry-button"},"重试")])):(o(),n("div",j,[t("ul",null,[(o(!0),n(M,null,T(g.value,s=>(o(),n("li",{key:s.url},[e[3]||(e[3]=t("span",{class:"article-bullet"},"•",-1)),t("a",{href:k(f)(s.url),class:"article-link"},[_(x(s.title)+" ",1),t("span",P,"- "+x(b(s.date)),1)],8,I)]))),128))])])),t("div",R,[e[4]||(e[4]=t("span",{class:"rss-icon"},"📡",-1)),t("a",{href:k(f)("rss.xml"),class:"rss-link"},"订阅 RSS Feed",8,V),e[5]||(e[5]=t("span",{class:"rss-text"},"获取最新文章更新",-1))])]),p(i,{show:l.value,"onUpdate:show":e[0]||(e[0]=s=>l.value=s),style:{width:"80%",maxWidth:"1200px",height:"80%"},preset:"card",title:"全部文章",size:"huge",bordered:!1,"auto-focus":!1,"trap-focus":!1,onAfterLeave:w},{default:C(()=>[p(N)]),_:1},8,["show"])])}}},U=A(O,[["__scopeId","data-v-90c974d7"]]),W=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"home","hero":{"name":"AI时代开发思考之旅","text":"Learn in Public","tagline":"费曼学习法的实践","actions":[{"theme":"brand","text":"AI编程","link":"/ai/code"},{"theme":"alt","text":"github pages","link":"/posts/github-pages"}]},"features":[{"icon":"🚀","title":"学习笔记","details":"记录AI学习笔记","link":"/ai/code"},{"icon":"📝","title":"技术文章","details":"分享传统技术的文章心得","link":"/posts/github-pages"},{"icon":"💡","title":"观察思考","details":"分享对现在和未来的一些思考","link":"/think/pm"},{"icon":"🌐","title":"前端开发","details":"分享前端开发技术和最佳实践","link":"/web/hybrid-rendering"}]},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),z={name:"index.md"},Y=Object.assign(z,{setup(y){return(l,m)=>(o(),n("div",null,[p(U)]))}});export{W as __pageData,Y as default};
