import{_ as n,C as e,c as h,o as t,G as k,w as p,j as i,a as s}from"./chunks/framework.CdkaGE7W.js";const E=JSON.parse('{"title":"Python 使用基础","description":"Python 使用过程中一些值得记录的内容","frontmatter":{"title":"Python 使用基础","description":"Python 使用过程中一些值得记录的内容","date":"2025-06-01T00:00:00.000Z","tags":["Python"]},"headers":[],"relativePath":"foundation/python.md","filePath":"foundation/python.md"}'),r={name:"foundation/python.md"};function d(o,l,c,g,u,y){const a=e("BlogPost");return t(),h("div",null,[k(a,null,{default:p(()=>[...l[0]||(l[0]=[i("h2",{id:"python-虚拟环境",tabindex:"-1"},[s("Python 虚拟环境 "),i("a",{class:"header-anchor",href:"#python-虚拟环境","aria-label":'Permalink to "Python 虚拟环境"'},"​")],-1),i("blockquote",null,[i("p",null,[i("strong",null,"强烈建议在虚拟环境中安装！"),s(" 这是 Python 开发的最佳实践")])],-1),i("h3",{id:"为什么推荐使用虚拟环境",tabindex:"-1"},[s("为什么推荐使用虚拟环境？ "),i("a",{class:"header-anchor",href:"#为什么推荐使用虚拟环境","aria-label":'Permalink to "为什么推荐使用虚拟环境？"'},"​")],-1),i("h4",{id:"_1-依赖隔离",tabindex:"-1"},[s("1. "),i("strong",null,"依赖隔离"),s(),i("a",{class:"header-anchor",href:"#_1-依赖隔离","aria-label":'Permalink to "1. **依赖隔离**"'},"​")],-1),i("ul",null,[i("li",null,"每个项目可以有自己独立的包版本"),i("li",null,"避免不同项目之间的包版本冲突"),i("li",null,"例如：项目A需要 Django 3.2，项目B需要 Django 4.1")],-1),i("h4",{id:"_2-避免污染系统环境",tabindex:"-1"},[s("2. "),i("strong",null,"避免污染系统环境"),s(),i("a",{class:"header-anchor",href:"#_2-避免污染系统环境","aria-label":'Permalink to "2. **避免污染系统环境**"'},"​")],-1),i("ul",null,[i("li",null,"不会修改系统级别的 Python 包"),i("li",null,"防止意外破坏系统工具（很多 Linux 系统工具依赖特定版本的 Python 包）")],-1),i("h4",{id:"_3-便于项目管理",tabindex:"-1"},[s("3. "),i("strong",null,"便于项目管理"),s(),i("a",{class:"header-anchor",href:"#_3-便于项目管理","aria-label":'Permalink to "3. **便于项目管理**"'},"​")],-1),i("ul",null,[i("li",null,"可以清晰知道每个项目依赖哪些包"),i("li",null,[s("方便生成 "),i("code",null,"requirements.txt")]),i("li",null,"便于团队协作和部署")],-1),i("h3",{id:"如何创建和使用虚拟环境",tabindex:"-1"},[s("如何创建和使用虚拟环境？ "),i("a",{class:"header-anchor",href:"#如何创建和使用虚拟环境","aria-label":'Permalink to "如何创建和使用虚拟环境？"'},"​")],-1),i("h4",{id:"使用内置的-venv-推荐",tabindex:"-1"},[s("使用内置的 "),i("code",null,"venv"),s("（推荐） "),i("a",{class:"header-anchor",href:"#使用内置的-venv-推荐","aria-label":'Permalink to "使用内置的 `venv`（推荐）"'},"​")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 创建虚拟环境")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"python"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -m"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," venv"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," myproject_env")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 激活虚拟环境")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# Windows:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"myproject_env\\Scripts\\activate")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# macOS/Linux:")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"source"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," myproject_env/bin/activate")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 现在安装包（会安装到虚拟环境中）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"pip"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 你的包名")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 退出虚拟环境")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"deactivate")])])])],-1),i("h4",{id:"使用-conda-如果你用-anaconda-miniconda",tabindex:"-1"},[s("使用 "),i("code",null,"conda"),s("（如果你用 Anaconda/Miniconda） "),i("a",{class:"header-anchor",href:"#使用-conda-如果你用-anaconda-miniconda","aria-label":'Permalink to "使用 `conda`（如果你用 Anaconda/Miniconda）"'},"​")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 创建环境")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"conda"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," create"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -n"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," myproject"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," python="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"3.9")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 激活环境")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"conda"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," activate"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," myproject")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 安装包")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"pip"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 你的包名")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 退出环境")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"conda"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," deactivate")])])])],-1),i("h3",{id:"什么时候可以不用虚拟环境",tabindex:"-1"},[s("什么时候可以不用虚拟环境？ "),i("a",{class:"header-anchor",href:"#什么时候可以不用虚拟环境","aria-label":'Permalink to "什么时候可以不用虚拟环境？"'},"​")],-1),i("ul",null,[i("li",null,"临时测试某个包的功能"),i("li",null,[s("安装全局工具（如 "),i("code",null,"black"),s(", "),i("code",null,"flake8"),s(" 等代码格式化/检查工具）")]),i("li",null,"确定不会与其他项目产生冲突的简单脚本")],-1),i("h2",{id:"python-虚拟环境本质是一个目录",tabindex:"-1"},[s("Python 虚拟环境本质是一个目录 "),i("a",{class:"header-anchor",href:"#python-虚拟环境本质是一个目录","aria-label":'Permalink to "Python 虚拟环境本质是一个目录"'},"​")],-1),i("h3",{id:"虚拟环境的位置",tabindex:"-1"},[s("虚拟环境的位置 "),i("a",{class:"header-anchor",href:"#虚拟环境的位置","aria-label":'Permalink to "虚拟环境的位置"'},"​")],-1),i("p",null,[i("strong",null,[i("code",null,"stock_env"),s(" 是在当前目录下创建的一个文件夹")]),s("，不是全局的。")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 如果你在 /home/user/myproject 目录下执行")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"python"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -m"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," venv"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," stock_env")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 那么会创建")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"/home/user/myproject/stock_env/")])])])],-1),i("p",null,"这个文件夹包含：",-1),i("ul",null,[i("li",null,"Python 解释器的副本（或符号链接）"),i("li",null,[s("独立的 "),i("code",null,"site-packages"),s(" 目录（存放安装的包）")]),i("li",null,"pip、activate 脚本等工具")],-1),i("h3",{id:"不同项目的虚拟环境可以同名吗",tabindex:"-1"},[s("不同项目的虚拟环境可以同名吗？ "),i("a",{class:"header-anchor",href:"#不同项目的虚拟环境可以同名吗","aria-label":'Permalink to "不同项目的虚拟环境可以同名吗？"'},"​")],-1),i("p",null,[i("strong",null,"完全可以！"),s(" 因为它们是"),i("strong",null,"不同路径下的不同文件夹"),s("。")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 项目1")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"/home/user/project_a/stock_env/")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 项目2  ")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"/home/user/project_b/stock_env/")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 这是两个完全独立的虚拟环境，互不影响")])])])],-1),i("h3",{id:"实际使用建议",tabindex:"-1"},[s("实际使用建议 "),i("a",{class:"header-anchor",href:"#实际使用建议","aria-label":'Permalink to "实际使用建议"'},"​")],-1),i("p",null,[s("虽然可以同名，但"),i("strong",null,"建议使用有意义的名称"),s("：")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 更好的命名方式")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"python"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -m"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," venv"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," myproject_env"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"          # 通用")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"python"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -m"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," venv"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," .venv"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                  # 隐藏文件夹，很多开发者喜欢")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"python"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -m"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," venv"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," venv"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"                   # 简短通用")]),s(`
`),i("span",{class:"line"}),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 或者直接用项目名")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"python"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -m"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," venv"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," trading-bot")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"python"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -m"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," venv"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," data-analysis")])])])],-1),i("h3",{id:"虚拟环境的管理技巧",tabindex:"-1"},[s("虚拟环境的管理技巧 "),i("a",{class:"header-anchor",href:"#虚拟环境的管理技巧","aria-label":'Permalink to "虚拟环境的管理技巧"'},"​")],-1),i("h4",{id:"_1-通常将虚拟环境放在项目根目录",tabindex:"-1"},[s("1. "),i("strong",null,"通常将虚拟环境放在项目根目录"),s(),i("a",{class:"header-anchor",href:"#_1-通常将虚拟环境放在项目根目录","aria-label":'Permalink to "1. **通常将虚拟环境放在项目根目录**"'},"​")],-1),i("div",{class:"language- vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"}),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",null,"my_project/")]),s(`
`),i("span",{class:"line"},[i("span",null,"├── stock_env/           # 虚拟环境")]),s(`
`),i("span",{class:"line"},[i("span",null,"├── src/")]),s(`
`),i("span",{class:"line"},[i("span",null,"├── requirements.txt")]),s(`
`),i("span",{class:"line"},[i("span",null,"└── README.md")])])])],-1),i("h4",{id:"_2-记得添加到-gitignore",tabindex:"-1"},[s("2. "),i("strong",null,"记得添加到 .gitignore"),s(),i("a",{class:"header-anchor",href:"#_2-记得添加到-gitignore","aria-label":'Permalink to "2. **记得添加到 .gitignore**"'},"​")],-1),i("div",{class:"language-gitignore vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"gitignore"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",null,"# .gitignore")]),s(`
`),i("span",{class:"line"},[i("span",null,"stock_env/")]),s(`
`),i("span",{class:"line"},[i("span",null,"venv/")]),s(`
`),i("span",{class:"line"},[i("span",null,".env/")]),s(`
`),i("span",{class:"line"},[i("span",null,"__pycache__/")])])])],-1),i("h4",{id:"_3-激活时注意路径",tabindex:"-1"},[s("3. "),i("strong",null,"激活时注意路径"),s(),i("a",{class:"header-anchor",href:"#_3-激活时注意路径","aria-label":'Permalink to "3. **激活时注意路径**"'},"​")],-1),i("div",{class:"language-bash vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"bash"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 必须在虚拟环境所在目录或使用完整路径")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"source"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ./stock_env/bin/activate"),i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"    # Linux/macOS")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 或")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"source"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /full/path/to/stock_env/bin/activate")])])])],-1),i("h2",{id:"虚拟环境的空间占用问题",tabindex:"-1"},[s("虚拟环境的空间占用问题 "),i("a",{class:"header-anchor",href:"#虚拟环境的空间占用问题","aria-label":'Permalink to "虚拟环境的空间占用问题"'},"​")],-1),i("p",null,[i("strong",null,"实际情况：")],-1),i("ul",null,[i("li",null,"虚拟环境确实会在每个项目目录下创建独立的依赖库"),i("li",null,[s("但现代 Python 虚拟环境（如 venv、conda）会使用"),i("strong",null,"符号链接"),s("或"),i("strong",null,"硬链接"),s("来减少重复文件")]),i("li",null,"相同版本的包在不同虚拟环境中通常不会完全复制，而是共享底层文件")],-1),i("p",null,[i("strong",null,"空间占用估算：")],-1),i("ul",null,[i("li",null,"一个基础的虚拟环境大约 10-20MB"),i("li",null,"如果项目依赖大型库（如 numpy、pandas、tensorflow），每个环境可能增加 100MB-1GB+"),i("li",null,"但如果你有 10 个项目都用相同的依赖，实际占用可能只有 1-2GB，而不是 10GB")],-1),i("h2",{id:"硬盘空间分配实用解决方案",tabindex:"-1"},[s("硬盘空间分配实用解决方案 "),i("a",{class:"header-anchor",href:"#硬盘空间分配实用解决方案","aria-label":'Permalink to "硬盘空间分配实用解决方案"'},"​")],-1),i("ol",null,[i("li",null,[i("strong",null,"创建专门的开发目录"),s("（如 D:\\PythonProjects）")]),i("li",null,[i("strong",null,"使用虚拟环境"),s("，但集中管理在 D:\\venvs")]),i("li",null,[i("strong",null,"每个项目保持独立"),s("，避免依赖冲突")]),i("li",null,[i("strong",null,"定期清理"),s("不用的项目和环境")])],-1),i("h2",{id:"对c盘清理的建议",tabindex:"-1"},[s("对C盘清理的建议 "),i("a",{class:"header-anchor",href:"#对c盘清理的建议","aria-label":'Permalink to "对C盘清理的建议"'},"​")],-1),i("p",null,[s("你"),i("strong",null,"不需要写 Python 程序"),s("，直接在 "),i("strong",null,"PowerShell 中用一条（或两行）命令"),s("就能安全清空 C 盘中的第三方 Python 依赖库。")],-1),i("hr",null,null,-1),i("h3",{id:"✅-推荐方法-使用-powershell-一行命令卸载所有第三方包",tabindex:"-1"},[s("✅ 推荐方法：使用 PowerShell 一行命令卸载所有第三方包 "),i("a",{class:"header-anchor",href:"#✅-推荐方法-使用-powershell-一行命令卸载所有第三方包","aria-label":'Permalink to "✅ 推荐方法：使用 PowerShell 一行命令卸载所有第三方包"'},"​")],-1),i("div",{class:"language-powershell vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"powershell"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"pip freeze "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," ForEach-Object"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { $pkg "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," $_"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".Split("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'=='"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")["),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]; "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ($pkg "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-notin"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," @"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'pip'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'setuptools'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'wheel'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'pkg-resources'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ''"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")) { pip uninstall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"y $pkg } }")])])])],-1),i("blockquote",null,[i("p",null,[s("💡 "),i("strong",null,"复制粘贴这一整行到 PowerShell 中运行即可。")])],-1),i("hr",null,null,-1),i("h3",{id:"🔍-这条命令做了什么",tabindex:"-1"},[s("🔍 这条命令做了什么？ "),i("a",{class:"header-anchor",href:"#🔍-这条命令做了什么","aria-label":'Permalink to "🔍 这条命令做了什么？"'},"​")],-1),i("ol",null,[i("li",null,[i("code",null,"pip freeze"),s("：列出所有已安装的包（格式如 "),i("code",null,"numpy==1.24.0"),s("）")]),i("li",null,[i("code",null,"ForEach-Object"),s("：遍历每一行")]),i("li",null,[i("code",null,"Split('==')[0]"),s("：提取包名（如 "),i("code",null,"numpy"),s("）")]),i("li",null,[s("排除核心工具包："),i("code",null,"pip"),s("、"),i("code",null,"setuptools"),s("、"),i("code",null,"wheel"),s("、"),i("code",null,"pkg-resources")]),i("li",null,[s("对其余所有包执行 "),i("code",null,"pip uninstall -y"),s("（"),i("code",null,"-y"),s(" 表示自动确认）")])],-1),i("hr",null,null,-1),i("h3",{id:"🛡️-安全建议-强烈推荐先做",tabindex:"-1"},[s("🛡️ 安全建议（强烈推荐先做） "),i("a",{class:"header-anchor",href:"#🛡️-安全建议-强烈推荐先做","aria-label":'Permalink to "🛡️ 安全建议（强烈推荐先做）"'},"​")],-1),i("h4",{id:"_1-先备份包列表-以防万一",tabindex:"-1"},[s("1. "),i("strong",null,"先备份包列表（以防万一）"),s(),i("a",{class:"header-anchor",href:"#_1-先备份包列表-以防万一","aria-label":'Permalink to "1. **先备份包列表（以防万一）**"'},"​")],-1),i("div",{class:"language-powershell vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"powershell"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"pip freeze "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," D:\\python_global_packages_backup.txt")])])])],-1),i("p",null,[s("这样万一误删了某个你其实需要的全局工具（比如 "),i("code",null,"black"),s("、"),i("code",null,"jupyter"),s("），还能恢复。")],-1),i("h4",{id:"_2-先预览要删除哪些包",tabindex:"-1"},[s("2. "),i("strong",null,"先预览要删除哪些包"),s(),i("a",{class:"header-anchor",href:"#_2-先预览要删除哪些包","aria-label":'Permalink to "2. **先预览要删除哪些包**"'},"​")],-1),i("p",null,"运行这个命令看看会删什么：",-1),i("div",{class:"language-powershell vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"powershell"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"pip freeze "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," ForEach-Object"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { $pkg "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"="),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," $_"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".Split("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'=='"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")["),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"]; "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"if"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ($pkg "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-notin"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," @"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'pip'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'setuptools'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'wheel'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'pkg-resources'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},","),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ''"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")) { "),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"Write-Host"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "Will uninstall: '),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"$pkg"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"'),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," } }")])])])],-1),i("hr",null,null,-1),i("h3",{id:"🧹-额外清理-可选",tabindex:"-1"},[s("🧹 额外清理（可选） "),i("a",{class:"header-anchor",href:"#🧹-额外清理-可选","aria-label":'Permalink to "🧹 额外清理（可选）"'},"​")],-1),i("p",null,"清空 pip 缓存，进一步释放 C 盘空间：",-1),i("div",{class:"language-powershell vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"powershell"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"pip cache purge")])])])],-1),i("hr",null,null,-1),i("h3",{id:"❌-不要做的事",tabindex:"-1"},[s("❌ 不要做的事 "),i("a",{class:"header-anchor",href:"#❌-不要做的事","aria-label":'Permalink to "❌ 不要做的事"'},"​")],-1),i("ul",null,[i("li",null,[i("strong",null,[s("不要手动删除 "),i("code",null,"site-packages"),s(" 文件夹里的内容")]),s(" → 可能导致 pip 状态不一致")]),i("li",null,[i("strong",null,[s("不要卸载 "),i("code",null,"pip"),s("、"),i("code",null,"setuptools"),s("、"),i("code",null,"wheel")]),s(" → 虚拟环境创建会依赖它们")])],-1),i("hr",null,null,-1),i("h3",{id:"✅-验证是否清理干净",tabindex:"-1"},[s("✅ 验证是否清理干净 "),i("a",{class:"header-anchor",href:"#✅-验证是否清理干净","aria-label":'Permalink to "✅ 验证是否清理干净"'},"​")],-1),i("p",null,"清理后运行：",-1),i("div",{class:"language-powershell vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"powershell"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"pip list")])])])],-1),i("p",null,"正常输出应该只有：",-1),i("div",{class:"language- vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"}),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",null,"Package    Version")]),s(`
`),i("span",{class:"line"},[i("span",null,"---------- -------")]),s(`
`),i("span",{class:"line"},[i("span",null,"pip        23.x.x")]),s(`
`),i("span",{class:"line"},[i("span",null,"setuptools 65.x.x")]),s(`
`),i("span",{class:"line"},[i("span",null,"wheel      0.x.x")])])])],-1),i("p",null,[s("如果有其他包，说明它们可能是通过 "),i("code",null,"--user"),s(" 安装的，你可以额外清理用户目录的包：")],-1),i("div",{class:"language-powershell vp-adaptive-theme"},[i("button",{title:"Copy Code",class:"copy"}),i("span",{class:"lang"},"powershell"),i("pre",{class:"shiki shiki-themes github-light github-dark vp-code",tabindex:"0"},[i("code",null,[i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"}},"# 清理用户级安装的包（如果存在）")]),s(`
`),i("span",{class:"line"},[i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"pip uninstall "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"-"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"y "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"--"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"user (pip list "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"--"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"user "),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," Select-String"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Pattern "),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'^[^P]'"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," ForEach-Object"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { ("),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"$_"),i("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," -split"),i("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," ' '"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")["),i("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"0"),i("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"] })")])])])],-1),i("p",null,"不过大多数情况下，第一条命令已经足够。",-1),i("hr",null,null,-1),i("h3",{id:"总结",tabindex:"-1"},[s("总结 "),i("a",{class:"header-anchor",href:"#总结","aria-label":'Permalink to "总结"'},"​")],-1),i("ul",null,[i("li",null,[i("strong",null,"用 PowerShell 一行命令即可完成")]),i("li",null,[i("strong",null,"无需写 Python 脚本")]),i("li",null,[i("strong",null,"先备份，再执行，很安全")])],-1),i("p",null,"现在你就可以放心清理 C 盘的 Python 第三方库了！",-1)])]),_:1})])}const b=n(r,[["render",d]]);export{E as __pageData,b as default};
