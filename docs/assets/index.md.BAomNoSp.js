import{_ as E,p as r,v as S,x as D,c as n,o,j as t,G as w,a as k,F as T,B as M,k as f,g as p,t as x,w as B}from"./chunks/framework.CdkaGE7W.js";import{n as F,S as L}from"./chunks/theme.YeMmwX2L.js";const N={class:"latest-articles-section"},$={class:"recent-articles"},j={key:0,class:"loading-state"},C={key:1,class:"error-state"},I={key:2,class:"article-list"},P=["href"],R={class:"article-date"},V={class:"rss-subscribe"},O=["href"],U={__name:"RecentArticles",setup(y){const{NModal:m}=F,l=r(!1);function b(){typeof window<"u"&&(window.lastTriggerElement=document.activeElement),l.value=!0}function g(){typeof window<"u"&&window.lastTriggerElement&&(document.contains(window.lastTriggerElement)&&window.lastTriggerElement.focus(),window.lastTriggerElement=null)}const i=r(!0),d=r(!1),h=r([]);function A(a){const e=new Date(a),s=e.getFullYear(),c=(e.getMonth()+1).toString().padStart(2,"0"),u=e.getDate().toString().padStart(2,"0");return`${s}-${c}-${u}`}async function v(){try{i.value=!0,d.value=!1;const a=await fetch(p(`/data/list.json?t=${Date.now()}`));if(!a.ok)throw new Error("无法加载数据文件");const s=((await a.json()).articles||[]).sort((c,u)=>new Date(u.date)-new Date(c.date));h.value=s.slice(0,6),i.value=!1}catch(a){console.error("加载文章数据失败:",a),i.value=!1,d.value=!0}}const _=()=>{l.value=!1,g()};return S(()=>{v(),window.addEventListener("close-modal",_)}),D(()=>{window.removeEventListener("close-modal",_)}),(a,e)=>(o(),n("div",N,[t("h2",{class:"section-title"},[t("span",{style:{color:"inherit",cursor:"pointer"},onClick:b},"最新文章")]),t("div",$,[e[6]||(e[6]=t("div",{class:"recent-title"},[t("span",{class:"icon"},"📖"),k(" 最近更新 ")],-1)),i.value?(o(),n("div",j,[...e[1]||(e[1]=[t("div",{class:"loading-text"},"数据读取中...",-1)])])):d.value?(o(),n("div",C,[e[2]||(e[2]=t("div",{class:"error-text"},"数据获取失败...",-1)),t("button",{onClick:v,class:"retry-button"},"重试")])):(o(),n("div",I,[t("ul",null,[(o(!0),n(T,null,M(h.value,s=>(o(),n("li",{key:s.url},[e[3]||(e[3]=t("span",{class:"article-bullet"},"•",-1)),t("a",{href:f(p)(s.url),class:"article-link"},[k(x(s.title)+" ",1),t("span",R,"- "+x(A(s.date)),1)],8,P)]))),128))])])),t("div",V,[e[4]||(e[4]=t("span",{class:"rss-icon"},"📡",-1)),t("a",{href:f(p)("rss.xml"),class:"rss-link"},"订阅 RSS Feed",8,O),e[5]||(e[5]=t("span",{class:"rss-text"},"获取最新文章更新",-1))])]),w(f(m),{show:l.value,"onUpdate:show":e[0]||(e[0]=s=>l.value=s),style:{width:"80%",maxWidth:"1200px",height:"80%"},preset:"card",title:"全部文章",size:"huge",bordered:!1,"auto-focus":!1,"trap-focus":!1,onAfterLeave:g},{default:B(()=>[w(L)]),_:1},8,["show"])]))}},z=E(U,[["__scopeId","data-v-99d233f3"]]),Y=JSON.parse('{"title":"","description":"","frontmatter":{"layout":"home","hero":{"name":"AI时代开发思考之旅","text":"Learn in Public","tagline":"费曼学习法的实践","actions":[{"theme":"brand","text":"AI编程","link":"/ai/code"},{"theme":"alt","text":"github pages","link":"/posts/github-pages"}]},"features":[{"icon":"🚀","title":"学习笔记","details":"记录AI学习笔记","link":"/ai/code"},{"icon":"📝","title":"技术文章","details":"分享传统技术的文章心得","link":"/posts/github-pages"},{"icon":"💡","title":"观察思考","details":"分享对现在和未来的一些思考","link":"/think/pm"},{"icon":"🌐","title":"前端开发","details":"分享前端开发技术和最佳实践","link":"/web/hybrid-rendering"}]},"headers":[],"relativePath":"index.md","filePath":"index.md"}'),G={name:"index.md"},q=Object.assign(G,{setup(y){return(m,l)=>(o(),n("div",null,[w(z)]))}});export{Y as __pageData,q as default};
